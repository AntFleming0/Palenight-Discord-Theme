body {
    --list-item-transition: 0.2s ease; /* transition for list items */
    --dms-icon-svg-transition: 0.4s ease; /* transition for the dms icon */
}

@property --animations {
    syntax: 'off | on';
    inherits: false;
    initial-value: on;
}

@container body style(--animations: on) {
    .visual-refresh {
        /* list hover animations */
        .wrapper__2ea32 .link__2ea32 /* channels */,
        .container__91a9d /* members */,
        .channel__972a0 /* dms */,
        .side_aa8da2 .item_aa8da2 /* settings */ {
            transition: margin-left var(--list-item-transition);
            will-change: margin-left;
        }
        .wrapper__2ea32:hover .link__2ea32,
        .side_aa8da2 .item_aa8da2:hover {
            margin-left: 10px;
        }
        .container__91a9d:hover,
        .channel__972a0:hover {
            margin-left: 18px;
        }
        /* list hover channel dot */
        .unread__2ea32 {
            border-radius: 50%;
            width: 8px;
            height: 8px;
            margin-left: -4px;
            transition: var(--list-item-transition);
            will-change: margin-left;
        }
        .wrapper__2ea32:hover .unread__2ea32 {
            margin-left: 4px;
        }
    }
}
body {
    --background-image-url: url('');
}

@property --background-image {
    syntax: 'off | on';
    inherits: false;
    initial-value: off;
}

@container body style(--background-image: on) {
    .visual-refresh #app-mount .bg__960e4 {
        background: var(--background-image-url);
        background-size: cover;
        background-position: center;
    }
}
body {
    --chatbar-height: 47px; /* height of the chatbar (52px by default, 47px to align it with the user panel) */
    --chatbar-padding: 8px; /* padding of the chatbar */

    --custom-channel-textarea-text-area-height: var(--chatbar-height);
}

@property --custom-chatbar {
    syntax: 'off | aligned | separated';
    inherits: false;
    initial-value: aligned;
}

@container body style(--custom-chatbar: aligned) {
    .visual-refresh {
        .form_f75fb0 {
            margin: 0 var(--chatbar-padding) var(--chatbar-padding) var(--chatbar-padding);
            padding: 0 !important;
            --chatbar-border-color: var(--border-faint);
        }
        .channelTextArea_f75fb0 {
            margin: 0;
            border-color: var(--chatbar-border-color);
            transition: none;
        }
        .base_b88801 {
            top: -24px;
            left: 0;
            right: 0;
            background-color: var(--chat-background-default);
            padding: 0 8px;
            border-radius: var(--radius-md) var(--radius-md) 0 0;
            border: 1px solid var(--chatbar-border-color);
            border-bottom: none;
            transition: none;
            box-sizing: border-box;
        }
        .stackedBars__74017,
        .threadSuggestionBar__841c8 {
            border-color: var(--chatbar-border-color) !important;
        }
        .stackedBars__74017 {
            background: none !important;
        }
        .form_f75fb0:has(.base_b88801) {
            .channelTextArea_f75fb0,
            .wrapper__44df5 {
                border-radius: 0 0 var(--radius-md) var(--radius-md);
            }
        }
        .form_f75fb0:has(.channelTextArea__74017:focus-within) {
            --chatbar-border-color: var(--border-subtle);
        }
        .scrollerSpacer__36d07 {
            height: calc(24px + var(--chatbar-padding));
        }
        .scroller__36d07::-webkit-scrollbar-track {
            margin-bottom: calc(20px + var(--chatbar-padding));
        }
        .bottomBar__0f481 {
            margin-bottom: 24px;
        }
        .wrapper__44df5 /* phone verification bar */ {
            margin: 0;
            border-radius: var(--radius-md);
        }
    }
}

@container body style(--custom-chatbar: separated) {
    .visual-refresh {
        .chatContent_f75fb0 {
            background: none;
            border-radius: 0;
            border: none;
            backdrop-filter: none;
        }
        .messagesWrapper__36d07 {
            background-color: var(--background-base-lower);
            border-radius: var(--radius-lg);
            border: var(--border-thickness) solid var(--border-subtle);
            backdrop-filter: var(--panel-backdrop-filter);
            transition: border-color var(--border-hover-transition);

            &:hover {
                border-color: var(--border-hover);
            }
        }
        .scrollerSpacer__36d07 {
            height: calc(26px + var(--space-xs));
        }
        .scroller__36d07::-webkit-scrollbar-track {
            margin-bottom: calc(26px);
        }
        .chatContent_f75fb0:has(.typing_b88801) .messagesWrapper__36d07::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--background-base-lower);
            height: 26px;
            border-radius: 0 0 var(--radius-lg) var(--radius-lg);
            z-index: 2;
        }
        .form_f75fb0 {
            display: flex;
            flex-direction: column;
            padding: 0;
            width: 100%;
            margin-top: 0;
        }
        .typing_b88801 {
            position: absolute;
            order: -1;
            top: calc(-26px + var(--border-thickness) * -1);
            left: calc(var(--border-thickness));
            border-radius: 0 0 0 var(--radius-lg);
            padding: 0 0 0 var(--space-sm);
            height: 26px;
        }
        .channelBottomBarArea_f75fb0 {
            margin-top: var(--gap);
        }
        .channelTextArea_f75fb0 {
            margin: 0;
            background-color: var(--background-base-lower);
            border-radius: var(--radius-lg);
            border: var(--border-thickness) solid var(--border-subtle);
            backdrop-filter: var(--panel-backdrop-filter);
            transition: border-color var(--border-hover-transition);

            &:hover {
                border-color: var(--border-hover);
            }
        }
        .stackedBars__74017 {
            background: none !important;
        }
        .wrapper__44df5 {
            margin: var(--gap) 0 0 0;
            height: var(--chatbar-height);
            padding: 0;
            border-radius: var(--radius-lg);
            border: var(--border-thickness) solid var(--border-subtle);
            backdrop-filter: var(--panel-backdrop-filter);
            transition: border-color var(--border-hover-transition);

            &:hover {
                border-color: var(--border-hover);
            }
        }
    }
}
@property --colors {
    syntax: 'off | on';
    inherits: false;
    initial-value: on;
}

:root {
    /* VSCode Palenight (Mild Contrast) - exact colors from theme JSON */
    
    /* text colors - from VSCode Palenight Mild Contrast */
    --text-0: #ffffff; /* text on colored elements */
    --text-1: #eeffff; /* main foreground text (foreground) */
    --text-2: #BFC7D5; /* headings and important text (editor.foreground) */
    --text-3: #BFC7D5; /* normal text */
    --text-4: #6C739A; /* icon buttons, muted text (sideBar.foreground) */
    --text-5: #676E95; /* very muted text, timestamps (statusBar.foreground) */

    /* background and dark colors - exact from JSON */
    --bg-1: #32374C; /* lighter panels (editorGroup.background) */
    --bg-2: #31364a; /* tabs background (editorGroupHeader.tabsBackground) */
    --bg-3: #25293A; /* sidebar/panels (sideBar.background, panel.background) */
    --bg-4: #292D3E; /* main editor/background (editor.background) */
    --hover: rgba(117, 128, 184, 0.1); /* hover overlay */
    --active: #7e57c2; /* active purple accent (list.activeSelectionBackground) */
    --active-2: rgba(126, 87, 194, 0.3); /* transparent purple */
    --message-hover: rgba(0, 0, 0, 0.05); /* subtle message hover */

    /* accent colors - exact from JSON */
    --accent-1: #82AAFF; /* links, blue accent (terminal.ansiBlue) */
    --accent-2: #7e57c2; /* purple accent (button.background) */
    --accent-3: #7e57c2; /* accent buttons */
    --accent-4: #7e57c2; /* accent buttons when hovered (button.hoverBackground) */
    --accent-5: #694CA4; /* accent buttons when clicked (scrollbarSlider.activeBackground) */
    --accent-new: #7e57c2; /* mute/deafen buttons */
    --mention: linear-gradient(to right, rgba(126, 87, 194, 0.31) 40%, transparent); /* mentions with Palenight purple (7e57c2) */
    --mention-hover: linear-gradient(to right, rgba(126, 87, 194, 0.2) 40%, transparent);
    --reply: linear-gradient(to right, rgba(56, 61, 81, 0.5) 40%, transparent); /* replies (editor.selectionHighlightBackground) */
    --reply-hover: linear-gradient(to right, rgba(56, 61, 81, 0.35) 40%, transparent);

    /* status indicator colors - from JSON */
    --online: #9CCC65; /* online (editorGutter.addedBackground) */
    --dnd: #EF5350; /* do not disturb (errorForeground, editorError.foreground) */
    --idle: #FFCA28; /* idle/away (editorWarning.foreground) */
    --streaming: #C792EA; /* streaming (terminal.ansiMagenta) */
    --offline: #676E95; /* offline (statusBar.foreground) */

    /* border colors - from JSON */
    --border-light: #2C2F40; /* light border (focusBorder, contrastBorder) */
    --border: #2C3041; /* normal border (statusBar.border, titleBar.border) */
    --button-border: rgba(255, 255, 255, 0.1); /* button borders */

    /* Palenight base colors - exact from VSCode theme JSON */
    --palenight-red: #EF5350; /* errors (errorForeground) */
    --palenight-red-dark: #ec5f67;
    --palenight-red-light: #ff5572;
    
    --palenight-orange: #F78C6C; /* numbers (constant.numeric) */
    --palenight-orange-dark: #F78C6C;
    --palenight-orange-light: #F78C6C;
    
    --palenight-yellow: #FFCB6B; /* functions, warnings (terminal.ansiYellow) */
    --palenight-yellow-dark: #e2b93d;
    --palenight-yellow-light: #FFEB95;
    
    --palenight-green: #C3E88D; /* strings (terminal.ansiBrightGreen) */
    --palenight-green-dark: #a9c77d;
    --palenight-green-light: #C3E88D;
    
    --palenight-cyan: #89DDFF; /* operators (terminal.ansiCyan) */
    --palenight-cyan-dark: #80CBC4;
    --palenight-cyan-light: #89DDFF;
    
    --palenight-blue: #82AAFF; /* variables (terminal.ansiBlue) */
    --palenight-blue-dark: #82AAFF;
    --palenight-blue-light: #82b1ff;
    
    --palenight-purple: #C792EA; /* keywords (terminal.ansiMagenta) */
    --palenight-purple-dark: #7e57c2;
    --palenight-purple-light: #C792EA;
    
    --palenight-pink: #ff869a; /* special (markup.underline.link) */
    --palenight-pink-dark: #ff5572;
    --palenight-pink-light: #ff869a;
    
    --palenight-pink: hsl(331, 73%, 69%); /* #F07178 variant - special */
    --palenight-pink-dark: hsl(331, 73%, 63%);
    --palenight-pink-light: hsl(331, 73%, 75%);
}

/* Force VSCode Palenight colors directly on Discord elements - bypassing container query */
.theme-dark,
.theme-light,
body {
    /* Main backgrounds - matching VSCode layout */
    --background-primary: #292D3E !important; /* Main chat area - editor background (LIGHTER) */
    --background-secondary: #25293A !important; /* Server list - sidebar (DARKER) */
    --background-secondary-alt: #25293A !important; /* Friends list (DARKER) */
    --background-tertiary: #25293A !important; /* Server channels, members list (DARKER) */
    --background-accent: #31364a !important;
    --background-floating: #25293A !important;
    --background-mobile-primary: #292D3E !important;
    --background-mobile-secondary: #25293A !important;
    --background-modifier-accent: rgba(126, 87, 194, 0.3) !important;
    
    /* Chat input and activity areas - IMPORTANT: Use LIGHTER color for main panels */
    --background-base-lower: #292D3E !important; /* Main panels including chat area - LIGHTER */
    --chat-background-default: #25293A !important; /* Chat input area - DARKER */
    --bg-backdrop: #25293A !important;
    --bg-backdrop-no-opacity: #25293A !important;
    --channeltextarea-background: #25293A !important;
    --activity-card-background: #25293A !important; /* Activity status panel */
    --profile-body-background-color: #25293A !important;
    
    /* Additional background variables to override */
    --bg-overlay-1: #25293A !important;
    --bg-overlay-2: #25293A !important;
    --bg-overlay-3: #25293A !important;
}

/* Direct element targeting to ensure correct colors */
.visual-refresh .chatContent_f75fb0 {
    background-color: #292D3E !important; /* Lighter color for main chat area */
}

/* Override chat input and activity to use DARKER color */
.visual-refresh .channelTextArea_f75fb0,
.visual-refresh .form_f75fb0 {
    background-color: #25293A !important; /* Darker color for input areas */
}

/* Sidebars and channels use DARKER color */
.visual-refresh .guilds__5e434,
.visual-refresh .sidebarList__5e434,
.visual-refresh .container_c8ffbb {
    background-color: #25293A !important; /* Darker for sidebars */
}

/* Activity panel bottom left - DARKER color */
.visual-refresh .panels__5e434,
.visual-refresh .container__11d72,
div[class*="activityPanel"],
div[class*="panels"][class*="container"] {
    background-color: #25293A !important; /* Activity panel at bottom */
}

@container root style(--colors: on) {
    .visual-refresh body,
    .visual-refresh .theme-dark:not(.custom-user-profile-theme),
    .visual-refresh .theme-light:not(.custom-user-profile-theme) {
        --activity-card-background: var(--bg-3);
        --alert-bg: var(--palenight-red);
        --autocomplete-bg: var(--bg-3);

        --background-accent: var(--bg-2);
        --background-floating: var(--bg-3);
        --background-nested-floating: var(--bg-4);
        --background-mentioned: var(--mention);
        --background-mentioned-hover: var(--mention-hover);
        --background-message-automod: var(--palenight-red);
        --background-message-automod-hover: color-mix(in hsl, var(--palenight-red), transparent 20%);
        --background-message-highlight: var(--reply);
        --background-message-highlight-hover: var(--reply-hover);
        --background-message-hover: var(--message-hover);
        --background-mobile-primary: var(--bg-4);
        --background-mobile-secondary: var(--bg-3);
        --background-modifier-accent: var(--active);
        --background-modifier-accent-2: var(--active-2);
        --background-modifier-active: var(--active);
        --background-modifier-hover: var(--hover);
        --background-modifier-selected: var(--active);
        --background-primary: var(--bg-4);
        --background-secondary: var(--bg-3);
        --background-secondary-alt: var(--bg-3);
        --background-tertiary: var(--bg-2);
        
        /* Critical: Set the base background layers to match VSCode */
        --background-base-lower: var(--bg-4); /* Main editor background #292D3E */
        --background-base-higher: var(--bg-3); /* Elevated surfaces #25293A */

        --bg-backdrop: hsl(0, 0%, 0%, 0.4);
        --bg-backdrop-no-opacity: hsl(0, 0%, 0%);
        --bg-brand: var(--palenight-purple);
        --bg-mod-faint: var(--hover);
        --bg-mod-strong: var(--active-2);
        --bg-mod-subtle: var(--hover);
        --bg-surface-overlay: var(--bg-3);
        --bg-surface-overlay-tmp: var(--bg-3);
        --bg-surface-raised: var(--bg-2);
        --black: var(--bg-4);

        --blur-fallback: var(--bg-3);
        --blur-fallback-pressed: var(--bg-2);
        --border-faint: var(--border-light);
        --border-strong: var(--border);
        --border-subtle: var(--border-light);
        --bug-reporter-modal-submitting-background: var(--bg-3);

        --button-creator-revenue-background: var(--palenight-green);
        --button-danger-background: var(--palenight-red);
        --button-danger-background-active: var(--palenight-red-dark);
        --button-danger-background-disabled: var(--bg-1);
        --button-danger-background-hover: var(--palenight-red-light);
        --button-outline-brand-background: transparent;
        --button-outline-brand-background-active: var(--palenight-purple);
        --button-outline-brand-background-hover: var(--palenight-purple-dark);
        --button-outline-brand-border: var(--palenight-purple);
        --button-outline-brand-border-active: var(--palenight-purple);
        --button-outline-brand-border-hover: var(--palenight-purple-light);
        --button-outline-brand-text: var(--palenight-purple-light);
        --button-outline-brand-text-active: var(--text-0);
        --button-outline-brand-text-hover: var(--text-1);
        --button-outline-danger-background: transparent;
        --button-outline-danger-background-active: var(--palenight-red);
        --button-outline-danger-background-hover: var(--palenight-red-dark);
        --button-outline-danger-border: var(--palenight-red);
        --button-outline-danger-border-active: var(--palenight-red);
        --button-outline-danger-border-hover: var(--palenight-red-light);
        --button-outline-danger-text: var(--palenight-red-light);
        --button-outline-danger-text-active: var(--text-0);
        --button-outline-danger-text-hover: var(--text-1);
        --button-outline-positive-background: transparent;
        --button-outline-positive-background-active: var(--palenight-green);
        --button-outline-positive-background-hover: var(--palenight-green-dark);
        --button-outline-positive-border: var(--palenight-green);
        --button-outline-positive-border-active: var(--palenight-green);
        --button-outline-positive-border-hover: var(--palenight-green-light);
        --button-outline-positive-text: var(--palenight-green-light);
        --button-outline-positive-text-active: var(--text-0);
        --button-outline-positive-text-hover: var(--text-1);
        --button-outline-primary-background: transparent;
        --button-outline-primary-background-active: var(--bg-1);
        --button-outline-primary-background-hover: var(--hover);
        --button-outline-primary-border: var(--button-border);
        --button-outline-primary-border-active: var(--text-2);
        --button-outline-primary-border-hover: var(--text-3);
        --button-outline-primary-text: var(--text-2);
        --button-outline-primary-text-active: var(--text-1);
        --button-outline-primary-text-hover: var(--text-1);
        --button-positive-background: var(--palenight-green);
        --button-positive-background-active: var(--palenight-green-dark);
        --button-positive-background-disabled: var(--bg-1);
        --button-positive-background-hover: var(--palenight-green-light);
        --button-secondary-background: var(--bg-2);
        --button-secondary-background-active: var(--bg-1);
        --button-secondary-background-disabled: var(--bg-2);
        --button-secondary-background-hover: var(--bg-1);

        --card-gradient-bg: var(--bg-4);
        --card-gradient-pressed-bg: var(--bg-3);
        --card-primary-bg: var(--bg-4);
        --card-primary-pressed-bg: var(--bg-3);
        --card-secondary-bg: var(--bg-3);
        --card-secondary-pressed-bg: var(--bg-2);
        --channel-icon: var(--text-4);
        --channel-text-area-placeholder: var(--text-4);
        --channels-default: var(--text-4);
        --channeltextarea-background: var(--bg-3);

        --control-brand-foreground: var(--palenight-purple);
        --control-brand-foreground-new: var(--palenight-purple);

        --creator-revenue-icon-gradient-end: var(--palenight-cyan);
        --creator-revenue-icon-gradient-start: var(--palenight-purple);
        --creator-revenue-info-box-background: var(--bg-3);
        --creator-revenue-info-box-border: var(--palenight-cyan);
        --creator-revenue-locked-channel-icon: var(--text-4);
        --creator-revenue-progress-bar: var(--palenight-cyan);

        --deprecated-card-bg: var(--bg-3);
        --deprecated-card-editable-bg: var(--bg-3);
        --deprecated-quickswitcher-input-background: var(--bg-3);
        --deprecated-quickswitcher-input-placeholder: var(--text-4);
        --deprecated-store-bg: var(--bg-4);
        --deprecated-text-input-bg: var(--bg-3);
        --deprecated-text-input-border: var(--border);
        --deprecated-text-input-border-disabled: var(--border-light);
        --deprecated-text-input-border-hover: var(--text-4);
        --deprecated-text-input-prefix: var(--text-3);

        --display-banner-overflow-background: var(--bg-3);
        --divider-strong: var(--border);
        --divider-subtle: var(--border-light);

        --embed-background: var(--bg-3);
        --embed-background-alternate: var(--bg-3);
        --embed-title: var(--text-1);

        --expression-picker-bg: var(--bg-3);
        --focus-primary: var(--palenight-purple);
        --forum-post-extra-media-count-container-background: var(--bg-1);
        --forum-post-tag-background: var(--active);

        --guild-boosting-blue: var(--palenight-blue);
        --guild-boosting-blue-for-gradients: var(--palenight-blue);
        --guild-boosting-pink: var(--palenight-pink);
        --guild-boosting-purple: var(--palenight-purple);
        --guild-boosting-purple-for-gradients: var(--palenight-purple);

        --header-muted: var(--text-4);
        --header-primary: var(--text-1);
        --header-secondary: var(--text-3);
        --home-background: var(--bg-4);
        --home-card-resting-border: var(--border);

        --icon-muted: var(--text-4);
        --icon-primary: var(--text-2);
        --icon-secondary: var(--text-3);
        --icon-transparent: transparent;

        --info-box-background: var(--bg-3);
        --info-danger-background: color-mix(in hsl, var(--palenight-red), transparent 90%);
        --info-danger-foreground: var(--palenight-red-light);
        --info-danger-text: var(--text-1);
        --info-help-background: color-mix(in hsl, var(--palenight-blue), transparent 90%);
        --info-help-foreground: var(--palenight-blue-light);
        --info-help-text: var(--text-1);
        --info-positive-background: color-mix(in hsl, var(--palenight-green), transparent 90%);
        --info-positive-foreground: var(--palenight-green-light);
        --info-positive-text: var(--text-1);
        --info-warning-background: color-mix(in hsl, var(--palenight-yellow), transparent 90%);
        --info-warning-foreground: var(--palenight-yellow);
        --info-warning-text: var(--text-0);

        --input-background: var(--bg-3);
        --input-placeholder-text: var(--text-4);
        --interactive-active: var(--text-1);
        --interactive-hover: var(--text-2);
        --interactive-muted: var(--text-4);
        --interactive-normal: var(--text-3);

        --legacy-android-blur-overlay-default: var(--bg-3);
        --legacy-android-blur-overlay-ultra-thin: transparent;
        --legacy-blur-fallback-default: var(--bg-3);
        --legacy-blur-fallback-ultra-thin: transparent;

        --live-stage-tile-border: var(--border);
        --logo-primary: var(--palenight-purple-light);

        --mention-background: var(--palenight-purple);
        --mention-foreground: var(--text-0);
        --modal-background: var(--bg-4);
        --modal-footer-background: var(--bg-3);

        --polls-image-normal-border: var(--border);
        --polls-normal-fill-hover: var(--hover);
        --polls-normal-image-background: var(--bg-3);
        --polls-victor-fill: var(--palenight-cyan);
        --polls-voted-fill: var(--palenight-purple);

        --profile-gradient-card-background: var(--bg-3);
        --profile-gradient-message-input-border: var(--border);
        --profile-gradient-note-background: var(--bg-3);
        --profile-gradient-overlay: var(--bg-4);
        --profile-gradient-overlay-synced-with-user-theme: var(--bg-4);
        --profile-gradient-profile-body-background-hover: var(--hover);
        --profile-gradient-role-pill-background: var(--active);
        --profile-gradient-role-pill-border: var(--border);
        --profile-gradient-section-box: var(--bg-3);

        --redesign-activity-card-background: var(--bg-3);
        --redesign-activity-card-background-pressed: var(--bg-2);
        --redesign-activity-card-border: var(--border);
        --redesign-activity-card-overflow-background: var(--bg-2);
        --redesign-button-active-background: var(--bg-1);
        --redesign-button-active-pressed-background: var(--bg-2);
        --redesign-button-danger-background: var(--palenight-red);
        --redesign-button-danger-pressed-background: var(--palenight-red-dark);
        --redesign-button-danger-text: var(--text-0);
        --redesign-button-overlay-alpha-background: color-mix(in hsl, var(--bg-4), transparent 50%);
        --redesign-button-overlay-alpha-pressed-background: color-mix(in hsl, var(--bg-4), transparent 30%);
        --redesign-button-overlay-alpha-text: var(--text-1);
        --redesign-button-overlay-background: var(--bg-3);
        --redesign-button-overlay-pressed-background: var(--bg-2);
        --redesign-button-overlay-text: var(--text-2);
        --redesign-button-positive-background: var(--palenight-green);
        --redesign-button-positive-pressed-background: var(--palenight-green-dark);
        --redesign-button-positive-text: var(--text-0);
        --redesign-button-primary-alt-background: var(--bg-2);
        --redesign-button-primary-alt-border: var(--border);
        --redesign-button-primary-alt-on-blurple-background: color-mix(in hsl, var(--palenight-purple), transparent 80%);
        --redesign-button-primary-alt-on-blurple-border: var(--palenight-purple-light);
        --redesign-button-primary-alt-on-blurple-pressed-background: color-mix(in hsl, var(--palenight-purple), transparent 60%);
        --redesign-button-primary-alt-on-blurple-pressed-border: var(--palenight-purple-light);
        --redesign-button-primary-alt-on-blurple-text: var(--palenight-purple-light);
        --redesign-button-primary-alt-pressed-background: var(--bg-1);
        --redesign-button-primary-alt-pressed-border: var(--border);
        --redesign-button-primary-alt-pressed-text: var(--text-1);
        --redesign-button-primary-alt-text: var(--text-2);
        --redesign-button-primary-background: var(--palenight-purple);
        --redesign-button-primary-border: var(--palenight-purple);
        --redesign-button-primary-overlay-background: color-mix(in hsl, var(--palenight-purple), transparent 20%);
        --redesign-button-primary-overlay-pressed-background: var(--palenight-purple);
        --redesign-button-primary-overlay-text: var(--palenight-purple-light);
        --redesign-button-primary-pressed-background: var(--palenight-purple-dark);
        --redesign-button-primary-pressed-border: var(--palenight-purple-dark);
        --redesign-button-primary-text: var(--text-0);
        --redesign-button-secondary-background: var(--bg-2);
        --redesign-button-secondary-border: var(--border);
        --redesign-button-secondary-overlay-background: color-mix(in hsl, var(--bg-4), transparent 40%);
        --redesign-button-secondary-overlay-pressed-background: color-mix(in hsl, var(--bg-4), transparent 20%);
        --redesign-button-secondary-overlay-text: var(--text-1);
        --redesign-button-secondary-pressed-background: var(--bg-1);
        --redesign-button-secondary-pressed-border: var(--border);
        --redesign-button-secondary-text: var(--text-2);
        --redesign-channel-category-name-text: var(--text-4);
        --redesign-channel-message-preview-text: var(--text-4);
        --redesign-channel-name-muted-text: var(--text-4);
        --redesign-channel-name-text: var(--text-3);
        --redesign-chat-input-background: var(--bg-3);
        --redesign-input-control-active-bg: var(--palenight-purple);
        --redesign-input-control-selected: var(--palenight-purple);
        --redesign-only-background-active: var(--active);
        --redesign-only-background-default: var(--bg-4);
        --redesign-only-background-overlay: var(--bg-3);
        --redesign-only-background-raised: var(--bg-2);
        --redesign-only-background-sunken: var(--bg-4);

        --scrollbar-auto-scrollbar-color-thumb: var(--bg-1);
        --scrollbar-auto-scrollbar-color-track: transparent;
        --scrollbar-auto-thumb: var(--bg-1);
        --scrollbar-auto-track: transparent;
        --scrollbar-thin-thumb: var(--bg-1);
        --scrollbar-thin-track: transparent;

        --spoiler-hidden-background: var(--bg-1);
        --spoiler-revealed-background: var(--bg-2);
        --status-danger: var(--palenight-red);
        --status-danger-background: var(--palenight-red);
        --status-danger-text: var(--text-0);
        --status-dnd: var(--dnd);
        --status-idle: var(--idle);
        --status-offline: var(--offline);
        --status-online: var(--online);
        --status-positive: var(--palenight-green);
        --status-positive-background: var(--palenight-green);
        --status-positive-text: var(--text-0);
        --status-speaking: var(--palenight-green);
        --status-warning: var(--palenight-yellow);
        --status-warning-background: var(--palenight-yellow);
        --status-warning-text: var(--text-0);

        --text-brand: var(--palenight-purple-light);
        --text-danger: var(--palenight-red-light);
        --text-link: var(--palenight-cyan);
        --text-link-low-saturation: var(--palenight-blue);
        --text-message-preview-low-sat: var(--text-3);
        --text-muted: var(--text-4);
        --text-muted-on-default: var(--text-3);
        --text-normal: var(--text-3);
        --text-positive: var(--palenight-green-light);
        --text-primary: var(--text-1);
        --text-secondary: var(--text-3);
        --text-warning: var(--palenight-yellow);

        --theme-locked-blur-fallback: var(--bg-3);
        --toast-bg: var(--bg-3);
        --toast-border: var(--border);
        --user-profile-header-overflow-background: var(--bg-3);
        --voice-video-video-tile-blur-fallback: var(--bg-3);

        --white: var(--text-1);
    }
}
body {
    --dms-icon-svg-url: url('https://AntFleming0.github.io/BetterDiscordTheme/assets/files_Light.svg'); /* VSCode Files icon - white version */
    --dms-icon-svg-size: 75%; /* size of the svg (css mask-size property) */
    --dms-icon-color-before: var(--text-4); /* normal icon color - muted */
    --dms-icon-color-after: var(--text-0); /* icon color when button is hovered/selected - white */
    --dms-background-image-url: url(''); /* url of the background image */
    --dms-background-image-size: cover; /* size of the background image (css background-size property) */
    --dms-background-color: linear-gradient(135deg, var(--palenight-purple), var(--palenight-blue)); /* Palenight gradient */
}

@property --custom-dms-icon {
    syntax: 'off | hide | custom';
    inherits: false;
    initial-value: custom;
}

@container body style(--custom-dms-icon: off) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 {
        color: var(--dms-icon-color-before);
    }
    .wrapper__6e9f8[data-list-item-id='guildsnav___home']:hover > .childWrapper__6e9f8,
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'].selected__6e9f8 > .childWrapper__6e9f8 {
        color: var(--dms-icon-color-after);
    }
}

@container body style(--custom-dms-icon: custom) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 > svg {
        display: none;
    }
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8::before {
        content: '';
        display: block;
        position: absolute;
        width: 65%;
        height: 65%;
        background: var(--dms-icon-color-before);
        mask-image: var(--dms-icon-svg-url);
        mask-size: var(--dms-icon-svg-size);
        mask-position: center;
        mask-repeat: no-repeat;
        transition: background-color 0.15s ease-out;
    }
    .wrapper__6e9f8[data-list-item-id='guildsnav___home']:hover > .childWrapper__6e9f8::before {
        transform: rotate(0deg) scale(1);
    }
    .wrapper__6e9f8[data-list-item-id='guildsnav___home']:hover > .childWrapper__6e9f8::before,
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'].selected__6e9f8 > .childWrapper__6e9f8::before {
        background: var(--dms-icon-color-after);
        transform: rotate(-360deg) scale(0.8);
    }

    @container body style(--animations: on) {
        .wrapper__6e9f8[data-list-item-id='guildsnav___home'] .childWrapper__6e9f8::before {
            transition: background-color 0.15s ease-out, transform var(--dms-icon-svg-transition);
        }
    }
}

@container body style(--custom-dms-icon: hide) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 > svg {
        display: none;
    }
}

@property --custom-dms-background {
    syntax: 'off | image | color';
    inherits: false;
    initial-value: off;
}

@container body style(--custom-dms-background: image) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 {
        background-image: var(--dms-background-image-url);
        background-color: transparent !important;
        background-size: var(--dms-background-image-size);
        background-position: center;
        background-repeat: no-repeat;
    }
}

@container body style(--custom-dms-background: color) {
    .wrapper__6e9f8[data-list-item-id='guildsnav___home'] > .childWrapper__6e9f8 {
        background: var(--dms-background-color);
    }
}
:root {
    container-name: root;
    --custom-guild-list-padding: 12px;
    --panel-backdrop-filter: none;

    --border-hover: var(--border-subtle);
    
    /* VSCode-like subtle border radius - less rounded than default */
    --radius-xs: 2px;
    --radius-sm: 3px;
    --radius-md: 4px;
    --radius-lg: 4px; /* VSCode uses very subtle corners */
}

body {
    container-name: body;

    /* font, uses Consolas like VSCode - change to '' for default discord font */
    --font: 'Consolas', 'Courier New', monospace;
    --code-font: 'Consolas', 'Courier New', monospace;

    /* sizes */
    --gap: 8px; /* tighter spacing like VSCode */
    --divider-thickness: 2px; /* thinner dividers like VSCode */
    --border-thickness: 1px; /* thickness of borders around main panels. DOES NOT AFFECT OTHER BORDERS */
    --custom-guild-list-width: calc(var(--guildbar-avatar-size) + var(--custom-guild-list-padding) * 2 + var(--border-thickness) * 2);

    --border-hover-transition: 0.2s ease;
    
    /* VSCode Palenight background colors defined early for Discord */
    --bg-1: #32374C;
    --bg-2: #31364a;
    --bg-3: #25293A;
    --bg-4: #292D3E;
}

.visual-refresh {
    /* panel separation */
    .guilds__5e434 /* server list */, 
    .sidebarList__5e434 /* channel list (includes dm list) */,
    .panels__5e434 /* user panel */,
    .chat_f75fb0 > .subtitleContainer_f75fb0 /* chat titlebar */,
    .chatContent_f75fb0 /* chat */,
    .container_c8ffbb /* member list */,
    .content_f75fb0 > .membersWrap_c8ffbb /* forum post member list */,
    .container__133bf > .container__9293f /* friends titlebar */,
    .container_f391e3 > .container__9293f /* message requests titlebar */,
    .homeWrapper__0920e > .container__9293f /* nitro page titlebar */,
    .container__01ae2 > .container__9293f /* vc chat titlebar */,
    .container_fb64c9 > .container__9293f /* new thread panel */,
    .peopleColumn__133bf /* online friends */,
    .nowPlayingColumn__133bf /* active now */,
    .scroller_c880e8 /* nitro page */,
    .container_f391e3 > .content_f75fb0 /* message requests */,
    .shop__6db1d /* shop */,
    .content_f75fb0 > .outer_c0bea0 /* dm user panel */,
    .searchResultsWrap_a9e706 /* search results */,
    .container_f369db /* forum */,
    .chat_fb64c9 /* new thread panel */,
    .container_a592e1 /* server discovery */,
    .callContainer_cb9592 /* vc container */,
    .wrapper_cb9592.sidebarOpen_cb9592 .callContainer_cb9592 /* vc container when chat open */,
    .callContainer__722ff /* stage */,
    .chat_f75fb0 > .header_c791b2 /* server members header */,
    .chat_f75fb0 > .scrollerBase_d125d2 /* server members page */,
    .chat_f75fb0 > .header__0b563  /* server channels and roles header */,
    .chat_f75fb0 > .container__0b563 /* server channels and roles page */ {
        background-color: var(--background-base-lower);
        border-radius: var(--radius-lg);
        border: var(--border-thickness) solid var(--border-subtle);
        backdrop-filter: var(--panel-backdrop-filter);
        box-sizing: border-box;
        transition: border-color var(--border-hover-transition);

        &:hover {
            border-color: var(--border-hover);
        }
    }

    .panels__5e434 /* user panel */ {
        bottom: 0;
        left: 0;
        width: 100%;
    }

    .sidebar__5e434 /* server list + channel list + user panel group */ {
        margin: 0 var(--gap) var(--gap) var(--gap);
    }

    .guilds__5e434 /* server list */ {
        margin-bottom: calc(var(--custom-app-panels-height, 0) + var(--gap));
        margin-right: var(--gap);
    }
    .guilds__5e434 + div:not(.sidebarList__5e434) /* betterfolders */ {
        width: 100% !important;
    }
    .scroller_ef3116 /* server list inner scroller */ {
        padding: var(--custom-guild-list-padding) 0;
    }
    .folderGroup__48112 {
        width: 100%;
    }
    .listItem__650eb {
        width: 100%;
    }

    .sidebarList__5e434 /* channel list */ {
        margin-bottom: calc(var(--custom-app-panels-height, 0) + var(--gap));
    }
    .container__2637a /* channel list inner */ {
        padding-bottom: 0;
    }
    .clickable_f37cb1,
    .container__2637a /* channel list inner */,
    .header_f37cb1 /* server name */ {
        background: none;
    }
    .scroller__629e4 /* channel list inner scroller */ {
        margin-bottom: 0;
    }

    /* fix discord's idiotic server banners */
    .bannerImage_f37cb1,
    .bannerImg_f37cb1 {
        width: 100%;
    }
    .bannerVisible_f37cb1 .headerEllipseBackdrop_f37cb1 {
        display: none;
    }
    .headerGlass_f37cb1 {
        top: 0;
        left: 0;
        right: 0;
        width: auto;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    }

    .sidebar__5e434:after /* server list + channel list bottom shadow */ {
        display: none;
    }

    .wrapper_ef3116 /* remove server list shadow */ {
        mask: none;
    }

    .chat_f75fb0 /* chat group outer */ {
        border: none !important;
        background: none;
    }
    .chatContent_f75fb0 {
        overflow: hidden;
    }
    .container__133bf /* friends page group outer */,
    .page__5e434 {
        padding-bottom: var(--gap);
        padding-right: var(--gap);
        border: none !important;
        background: none;
    }
    .page__5e434 > .chat_f75fb0,
    .page__5e434 > .container__133bf {
        padding: 0;
    }

    .container__9293f /* friends, message requests, + other stuff titlebar */ {
        margin-bottom: var(--gap);
    }

    .subtitleContainer_f75fb0 /* chat titlebar  */ {
        margin-bottom: var(--gap);
    }
    .title_f75fb0 /* chat titlebar inner */ {
        border: none;
        background: none;
        margin-bottom: 0;
    }

    .page__5e434 > div > .chat_f75fb0 > .content_f75fb0 /* chat outer */ {
        border-left: none;
    }
    .tabBody__133bf /* friends page */ {
        border: none !important;
    }

    .listeningAlong_e0cf27 /* user panel listening along */ {
        border-top: none !important;
    }

    .container_c8ffbb /* member list */ {
        margin-left: var(--gap);
        overflow: hidden;
        height: auto;
        min-width: fit-content;
    }
    .content_f75fb0 > .membersWrap_c8ffbb /* forum post member list */ {
        margin-left: var(--gap);
        overflow: hidden;
        height: auto;
        min-width: fit-content;
    }
    .members_c8ffbb /* member list inner */,
    .member_c8ffbb /* member list item */ {
        background: none;
    }

    .resizeHandle__01ae2 /* resize handle */ {
        background: transparent;
    }

    .privateChannels_e6b769 /* dm list */,
    .scroller__99e7c /* dm list inner */ {
        background: none;
    }
    .scroller__99e7c /* dm list inner */ {
        margin-bottom: 0;
    }

    .tabBody__133bf /* online friends + active now group outer */ {
        background: none;
    }

    .nowPlayingColumn__133bf /* active now */ {
        margin-left: var(--gap);
        background: var(--bg-3) !important;
    }
    .container__7d20c /* active now inner */ {
        background: var(--bg-3) !important;
    }
    .scroller__7d20c /* active now inner */ {
        border: none;
        background: var(--bg-3) !important;
    }

    /* Active Now - Activity cards and content */
    .itemCard__3f24e,
    .activity__46207,
    [class*="itemCard"],
    [class*="activity"] {
        background: var(--bg-3) !important; /* Use darker background instead of bg-2 */
        border: 1px solid var(--border) !important;
        border-radius: var(--radius-md) !important;
    }

    /* Active Now - Text styling */
    .itemCard__3f24e .title__48d42,
    .itemCard__3f24e .subtitle__8c7cd,
    .activity__46207 .activityName__5d60b,
    [class*="itemCard"] [class*="title"],
    [class*="activity"] [class*="name"] {
        color: var(--text-0) !important;
    }

    /* Active Now - Secondary text */
    .itemCard__3f24e .details__56434,
    [class*="itemCard"] [class*="details"],
    [class*="activity"] [class*="details"] {
        color: var(--text-1) !important;
    }

    /* Active Now - Section header */
    .section__7e80f,
    [class*="section"] h2,
    .nowPlayingColumn__133bf h2 {
        color: var(--text-0) !important;
    }

    .homeWrapper__0920e /* nitro page group inner */ {
        border: none;
        background: none;
        overflow: visible !important; /* Allow content to be visible */
    }
    .applicationStore_f07d62 /* nitro page group outer */ {
        background: none;
        overflow: visible !important; /* Prevent clipping */
    }

    /* Fix Nitro page navigation tabs being covered */
    .scroller_c880e8 /* nitro page scroller */ {
        overflow: visible !important;
    }

    /* Ensure Gift Nitro button and navigation aren't covered by window controls */
    .homeWrapper__0920e > .container__9293f /* nitro titlebar */ {
        z-index: 1 !important; /* Stay below window controls */
    }

    /* Add padding to prevent Gift Nitro button from being covered */
    .premiumCtaWrapper__75aa5,
    [class*="premiumCta"] {
        margin-right: 120px !important; /* Space for inbox + window controls */
    }

    .shop__6db1d /* shop */ {
        overflow: hidden;
        height: auto;
    }
    .shop__08415 /* shop inner scroller */ {
        margin-top: calc(var(--custom-channel-header-height) * -1 - 16px);
    }

    .content_f75fb0 > .outer_c0bea0 /* dm user panel */ {
        margin-left: var(--gap);
        overflow: hidden;
        height: auto;
        min-width: 340px;
        background-position: center calc(-1 * var(--border-thickness));
        background-size: 100% calc(100% + 2 * var(--border-thickness));
    }

    .searchResultsWrap_a9e706 /* search results */ {
        margin-left: var(--gap);
    }

    .notice__6e2b9 /* notice banner */ {
        margin: 0 var(--gap) var(--gap) 0;
        border-radius: var(--radius-md);
        box-sizing: border-box;
        height: 40px;
    }

    .container__01ae2 /* vc chat + titlebar group */ {
        border: none;
        background: none;
    }
    .chat_a44415::before /* vc chat shadow */ {
        display: none;
    }
    .channelChatWrapper_cb9592 /* vc chat + titlebar group outer */ {
        background: none;
    }

    .page__5e434 > div > .chatLayerWrapper__01ae2 /* forum/thread chat outer */ {
        margin: 0 var(--gap) var(--gap) 0;
        height: calc(100% - var(--gap));
    }
    .container__01ae2 /* forum/thread chat */ {
        padding-left: calc((var(--gap) - var(--chat-resize-handle-width)));
    }

    .container_fb64c9 /* new thread panel */ {
        background: none;
    }
    .chat_fb64c9::before /* new thread panel chat shadow */ {
        display: none;
    }

    .container_a592e1 /* server discovery */ {
        overflow: hidden;
    }
    .backdrop__8a7fc /* server discovery top bar */ {
        background-color: var(--background-base-lower);
    }

    .wrapper_cb9592 /* dm vc wrapper */ {
        background: none;
        margin-bottom: var(--gap);
    }
    .wrapper_cb9592.fullScreen_cb9592 {
        margin-top: var(--gap);
        margin-left: var(--gap);
        width: calc(100% - var(--gap));
        height: calc(100% - var(--gap));
    }

    /* remove excess background from settings  */
    .standardSidebarView__23e6b,
    .contentRegion__23e6b,
    .sidebarRegionScroller__23e6b,
    .contentRegionScroller__23e6b {
        background: none;
    }
    .standardSidebarView__23e6b {
        backdrop-filter: var(--panel-backdrop-filter);
    }

    /* remove excess backgrounds */
    .wrapper__0d1ef /* message loading placeholders */,
    .wrapper__0d1ef > .wrapper_fc8177 {
        background: none;
    }
    .page__5e434 > .chat_f75fb0 /* friend page, server members page */ {
        background: none !important;
    }

    .newMessagesBar__0f481 /* unread messages bar */ {
        top: 12px;
        left: 12px;
        right: 12px;
        border-radius: var(--radius-sm);
        padding: 0 8px;
    }

    .bottom__7aaec /* channel list new unreads pill */,
    .unreadBottom__629e4 /* channel list non-community unread pill */ {
        bottom: 0;
    }

    .unreadMentionsIndicatorBottom_ef3116 /* server list new pill */,
    .unreadMentionsIndicatorTop_ef3116 {
        width: calc(var(--guildbar-avatar-size) + var(--custom-guild-list-padding) * 2);
        padding: calc(var(--custom-guild-list-padding) / 2);
    }

    /* Notification badges and indicators - Palenight colors */
    .numberBadge_e5445c /* notification badge */,
    .base__3e6af /* badge base */,
    [class*="numberBadge"],
    [class*="mentionsBadge"] {
        background-color: var(--palenight-purple) !important;
        color: var(--text-0) !important;
        border: none !important; /* Remove black border */
        box-shadow: none !important; /* Remove any shadow that might appear as border */
    }

    /* Unread indicators */
    .unreadMentionsIndicatorBottom_ef3116,
    .unreadMentionsIndicatorTop_ef3116,
    .unreadMentionsBar_e5445c,
    [class*="unreadMentionsIndicator"] {
        color: var(--palenight-purple) !important;
    }

    #vc-spotify-player /* vencord spotify plugin */ {
        background: none;
    }

    /* general chat bar improvements */
    .channelTextArea_f75fb0 /* chat bar */ {
        border-radius: var(--radius-md);
    }
    .themedBackground__74017 /* chat bar inner */ {
        background: none;
    }
    .slateTextArea_ec4baf /* actual typing area */ {
        margin-left: 2px;
    }

    /* improve unread divider */
    .divider__908e2 {
        border-width: var(--divider-thickness);
        border-radius: var(--divider-thickness);
    }
    .endCap__908e2 {
        margin-top: calc(var(--divider-thickness) / -2);
    }
    .divider__908e2 .content__908e2 {
        margin-top: calc(var(--divider-thickness) - var(--divider-thickness) * 2);
    }

    /* improve highlight message left edge */
    .message__5126c.mentioned__5126c::before,
    .replying__5126c::before,
    .ephemeral__5126c::before {
        width: var(--divider-thickness);
        border-radius: var(--divider-thickness);
        height: calc(100% - 2 * var(--radius-sm));
        top: var(--radius-sm);
        left: calc(var(--divider-thickness) / -2 + 1px);
        left: calc(var(--radius-sm) / 2);
    }

    .message__5126c {
        border-radius: var(--radius-md);
        margin-left: 4px;
    }

    /* improve server selected marker */
    .pill_e5445c.wrapper__58105 {
        width: calc((var(--custom-guild-list-padding) - 4px) / 2 + 4px);
    }
    .item__58105 {
        width: 4px;
        border-radius: 4px;
        margin-left: calc((var(--custom-guild-list-padding) - 4px) / 2);
    }

    /* improve embeds */
    .embedFull__623de {
        border: 4px solid var(--border-normal);
        border-top-color: var(--border-subtle) !important;
        border-top-width: 1px;
        border-bottom-color: var(--border-subtle) !important;
        border-bottom-width: 1px;
        border-right-color: var(--border-subtle) !important;
        border-right-width: 1px;
    }

    /* improve borders */
    .reaction__23977 /* message reactions */,
    .reactionBtn__23977.forceShow__23977 /* add reaction button */ {
        border-width: 2px;
    }

    /* roundness */
    .embedFull__623de /* embeds */,
    .hljs /* code block */,
    .imageWrapper_af017a /* image */,
    .container__9271d /* thread link */ {
        border-radius: var(--radius-md);
    }

    .outer_c0bea0 /* profile outer */, 
    .contentWrapper__08434  /* gif panel */ {
        border-radius: var(--radius-lg);
    }
    .inner_c0bea0 /* profile inner */ {
        border-radius: calc(var(--radius-lg) - 4px);
    }

    .outer_c0bea0 /* profile outer */ {
        border: 1px solid var(--border-subtle);
        background-position: center calc(-1 * var(--border-thickness));
        background-size: 100% calc(100% + 2 * var(--border-thickness));
    }
    .root__24502 {
        background: none;
    }

    /* remove unnecessary backgrounds */
    .app__160d8,
    #app-mount,
    body {
        background: transparent !important;
    }
    
    /* Set the base Discord background to match VSCode Palenight */
    #app-mount .bg__960e4 {
        background-color: var(--bg-4) !important; /* #292D3E */
    }
}

body {
    --font-primary: var(--font), 'gg sans';
    --font-display: var(--font), 'gg sans';
    --font-code: var(--code-font), 'gg mono';
}

[class*='scroll'] {
    will-change: scroll-position;
}
.burstGlow__23977 {
    display: none;
}

/* Plugin Compatibility Fixes */

/* ReadAllNotificationsButton Plugin - Fix button text size and styling */
#app-mount [class*="_readallnotificationsbuttonbutton"] {
    font-size: 10px !important; /* Smaller font to fit "read all" text */
    padding: 4px 6px !important;
    min-width: auto !important;
    width: auto !important;
    height: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    color: var(--text-3) !important;
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: 4px !important;
    transition: all 0.2s ease !important;
}

#app-mount [class*="_readallnotificationsbuttonbutton"]:hover {
    color: var(--text-1) !important;
    background: var(--hover) !important;
    border-color: var(--palenight-purple) !important;
}

#app-mount [class*="_readallnotificationsbuttonbutton"]:active {
    background: var(--active-2) !important;
    border-color: var(--palenight-purple) !important;
    transform: scale(0.95) !important;
}

#app-mount [class*="_readallnotificationsbuttonframe"] {
    --guildbar-avatar-size: 48px;
    margin-bottom: var(--gap, 8px) !important;
}

#app-mount [class*="_readallnotificationsbuttoninner"] {
    height: 24px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* ============================================= */
/* STATUS INDICATORS - Midnight Pattern         */
/* ============================================= */

/* Change all status indicators to rounded squares */
svg rect[mask*='status'],
foreignObject rect,
rect[width='10'][height='10'],
rect[width='8'][height='8'],
rect[width='16'][height='16'] {
    rx: 3 !important;
    ry: 3 !important;
}

/* Offline Status - Gray */
rect[fill='#82838b'] {
    fill: var(--offline);
}
.status_a423bd[style='background-color: rgb(130, 131, 139);'] {
    background-color: var(--offline) !important;
    border-radius: 3px !important;
}

/* Online Status - Green */
rect[fill='#43a25a'],
path[fill='#43a25a'],
path[fill='var(--status-positive)'] {
    fill: var(--online);
}
.status_a423bd[style='background-color: rgb(67, 162, 90);'] {
    background-color: var(--online) !important;
    border-radius: 3px !important;
}

/* Idle/Away Status - Yellow */
rect[fill='#ca9654'] {
    fill: var(--idle);
}
.status_a423bd[style='background-color: rgb(202, 150, 84);'] {
    background-color: var(--idle) !important;
    border-radius: 3px !important;
}

/* DND Status - Red */
rect[fill='#d83a42'] {
    fill: var(--dnd);
}
.status_a423bd[style='background-color: rgb(216, 58, 66);'] {
    background-color: var(--dnd) !important;
    border-radius: 3px !important;
}

/* Streaming Status - Purple */
rect[fill='#9147ff'] {
    fill: var(--streaming);
}

/* Status activity indicators */
div[style='display: flex; justify-content: center; align-items: center; border-radius: 5px; background-color: rgb(67, 162, 90); height: 10px; width: 25px;'] {
    background-color: var(--online) !important;
}

/* ============================================= */
/* CUSTOM LOADING SCREEN - Palenight            */
/* ============================================= */

/* Loading screen background - match Palenight theme */
.appMount_fbb6aa {
    background: var(--bg-3) !important; /* Use darker sidebar color for loading screen */
}

.content_a2f514 {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: 20px !important;
}

/* Hide default Discord spinner */
.content_a2f514 > .spinner_a2f514 {
    display: none !important;
}

/* Add custom Palenight ASCII logo */
.content_a2f514::before {
    display: block !important;
    content: '    ____        __           _       __    __\A   / __ \\____ _/ /__  ____  (_)___ _/ /_  / /_\A  / /_/ / __ `/ / _ \\/ __ \\/ / __ `/ __ \\/ __/\A / ____/ /_/ / /  __/ / / / / /_/ / / / / /_  \A/_/    \\__,_/_/\\___/_/ /_/_/\\__, /_/ /_/\\__/  \A                            /____/              ' !important;
    font-size: 18px !important;
    font-family: monospace !important;
    white-space: pre !important;
    line-height: 1.2 !important;
    background: linear-gradient(to right, var(--palenight-purple) 0%, var(--palenight-blue) 25%, var(--palenight-cyan) 75%, var(--palenight-purple) 100%) !important;
    background-clip: text !important;
    -webkit-background-clip: text !important;
    -webkit-text-fill-color: transparent !important;
    background-size: 200% auto !important;
    animation: palenight-loading-shine 1.5s linear infinite reverse !important;
}

/* Keep loading text visible - "Did you know" section styling */
.text_a2f514 {
    position: static !important;
    color: var(--text-2) !important; /* Use headings color for better visibility */
    font-size: 14px !important;
    text-align: center !important;
    max-width: 500px !important;
    padding: 0 20px !important;
}

@keyframes palenight-loading-shine {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    50.0001% {
        background-position: -100%, 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* Settings Page Theme Extension */
.layers__050b9 /* settings container */,
.container__aa8da /* settings container */,
.container_fa2c6c /* settings modal */,
[class*="settingsContainer"],
.settingsContainer_c907f8 {
    background: var(--bg-4) !important;
    color: var(--text-1) !important;
}

/* Settings sidebar */
.sidebarRegion__11fa4 /* settings sidebar */,
.side_aa8da2 /* settings side */,
[class*="sidebarRegion"],
[class*="settingsSidebar"] {
    background: var(--bg-3) !important;
    border-right: var(--border-thickness) solid var(--border) !important;
}

/* Settings items and groups */
.side_aa8da2 .item_aa8da2 /* settings item */,
[class*="settingsItem"],
.item_aa8da2 {
    color: var(--text-3) !important;
    background: transparent !important;
    border-radius: var(--radius-sm) !important;
    transition: all 0.2s ease !important;
}

.side_aa8da2 .item_aa8da2:hover /* settings item hover */,
[class*="settingsItem"]:hover {
    color: var(--text-1) !important;
    background: var(--hover) !important;
}

.side_aa8da2 .item_aa8da2.selected_aa8da2 /* settings item selected */,
[class*="settingsItem"][class*="selected"] {
    color: var(--text-1) !important;
    background: var(--active-2) !important;
    border-left: 2px solid var(--palenight-purple) !important;
    padding-left: calc(16px - 2px) !important;
}

/* Settings content */
[class*="standardSidebarView"],
.content_f0dbb1 /* settings content */ {
    background: var(--bg-4) !important;
    color: var(--text-3) !important;
}

/* Settings headers and titles */
.ui-standard-sidebar-view [class*="content"] h1,
.ui-standard-sidebar-view [class*="content"] h2,
.title__4b10a /* settings title */ {
    color: var(--text-1) !important;
}

/* Settings inputs and form elements */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
select,
textarea,
[class*="input"],
[class*="input"] input {
    background: var(--bg-3) !important;
    color: var(--text-1) !important;
    border: var(--border-thickness) solid var(--border) !important;
    border-radius: var(--radius-sm) !important;
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="number"]:focus,
select:focus,
textarea:focus,
[class*="input"] input:focus {
    border-color: var(--palenight-purple) !important;
    box-shadow: 0 0 0 2px var(--active-2) !important;
}

/* Settings buttons */
[class*="settingsButton"],
.button_dd4f85 /* settings button */ {
    background: var(--active) !important;
    color: var(--text-1) !important;
    border: 1px solid var(--palenight-purple) !important;
    border-radius: var(--radius-sm) !important;
    transition: all 0.2s ease !important;
}

[class*="settingsButton"]:hover,
.button_dd4f85:hover {
    background: var(--accent-4) !important;
    box-shadow: 0 0 8px var(--active-2) !important;
}

/* Settings dividers and separators */
hr,
[class*="divider"],
.divider__95f7f {
    border-color: var(--border) !important;
}

/* ============================================= */
/* MY ACCOUNT / PROFILE SETTINGS                */
/* ============================================= */

/* My Account profile card container */
[class*="accountProfileCard"],
[class*="userSettingsAccount"],
.accountProfileCard__7b759,
.background__6c5c7,
.fieldList__96595 {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
    color: var(--text-3) !important;
}

/* Profile preview/banner in My Account */
[class*="userSettingsAccount"] [class*="background"],
.background__6c5c7,
.avatarWrapper__86eba,
[class*="avatarUploader"] {
    background: var(--bg-2) !important;
    border-color: var(--border) !important;
}

/* My Account username, email, etc. */
[class*="userSettingsAccount"] h2,
[class*="userSettingsAccount"] h3,
[class*="userSettingsAccount"] .username,
.username_c0bea0,
.fieldList__96595 .field__49875 {
    color: var(--text-1) !important;
}

/* My Account labels and descriptions */
[class*="userSettingsAccount"] label,
[class*="userSettingsAccount"] [class*="description"],
.fieldList__96595 .description_c0bea0 {
    color: var(--text-3) !important;
}

/* My Account buttons (Edit, Copy, etc.) */
[class*="userSettingsAccount"] button,
.button__2ede7,
.lookFilled__9c58b,
.colorBrand_cdc393 {
    background: var(--bg-2) !important;
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important;
}

[class*="userSettingsAccount"] button:hover,
.button__2ede7:hover,
.lookFilled__9c58b:hover {
    background: var(--bg-1) !important;
    border-color: var(--palenight-purple) !important;
}

/* My Account input fields */
[class*="userSettingsAccount"] input,
[class*="userSettingsAccount"] textarea {
    background: var(--bg-2) !important;
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important;
}

[class*="userSettingsAccount"] input:focus,
[class*="userSettingsAccount"] textarea:focus {
    border-color: var(--palenight-purple) !important;
    box-shadow: 0 0 0 2px var(--active-2) !important;
}

/* Profile customization sections */
[class*="profileCard"],
[class*="userProfileModalInner"],
[class*="banner"],
.userSettingsBanner__6c5c7 {
    background: var(--bg-3) !important;
    border-color: var(--border) !important;
}

/* ============================================= */
/* BETTERDISCORD SETTINGS FIX                   */
/* ============================================= */

/* BetterDiscord settings container */
#bd-settingspane-container {
    background: var(--bg-4) !important;
}

/* BetterDiscord settings titles (Themes, Plugins, etc.) - FIX BLACK TEXT */
#bd-settingspane-container h2,
#bd-settingspane-container .bd-settings-title,
.bd-settings-title,
.bd-addon-list .bd-addon-header,
.bd-settings-group h2,
#bd-settingspane-container .bd-addon-views .bd-view-button.selected,
.bd-addon-views .bd-view-button {
    color: var(--text-1) !important;
    background: transparent !important;
}

/* BetterDiscord view buttons hover */
.bd-addon-views .bd-view-button:hover {
    background: var(--hover) !important;
}

.bd-addon-views .bd-view-button.selected {
    background: var(--active-2) !important;
    color: var(--text-0) !important;
}

/* BetterDiscord search bar - FIX BLACK OUTLINE */
#bd-settingspane-container .bd-search-wrapper,
.bd-search-wrapper {
    background: var(--bg-3) !important;
    border: var(--border-thickness) solid var(--border) !important;
    border-radius: var(--radius-sm) !important;
}

#bd-settingspane-container .bd-search-wrapper input,
.bd-search-wrapper input,
input[placeholder*="Search"],
input[placeholder*="search"] {
    background: transparent !important;
    color: var(--text-1) !important;
    border: none !important;
    border-radius: var(--radius-sm) !important;
}

#bd-settingspane-container .bd-search-wrapper input:focus,
.bd-search-wrapper input:focus,
#bd-settingspane-container .bd-search-wrapper:focus-within,
.bd-search-wrapper:focus-within {
    border-color: var(--palenight-purple) !important;
    box-shadow: 0 0 0 2px var(--active-2) !important;
    outline: none !important;
}

/* BetterDiscord search icon */
.bd-search-wrapper svg {
    color: var(--text-4) !important;
}

/* BetterDiscord addon cards */
.bd-addon-card {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

/* BetterDiscord addon titles and descriptions */
.bd-addon-card .bd-title,
.bd-addon-card .bd-name {
    color: var(--text-1) !important;
}

.bd-addon-card .bd-description,
.bd-addon-card .bd-description-wrap {
    color: var(--text-3) !important;
}

/* BetterDiscord addon authors and version */
.bd-addon-card .bd-author,
.bd-addon-card .bd-version {
    color: var(--text-4) !important;
}

/* BetterDiscord switches */
.bd-switch,
.bd-switch-body {
    background: var(--bg-2) !important;
    border: 1px solid var(--border) !important;
    border-radius: 12px !important; /* Rounded toggle body */
}

.bd-switch input:checked + .bd-switch-body {
    background: var(--palenight-purple) !important;
    border-color: var(--palenight-purple) !important;
}

.bd-switch-handle {
    background: var(--text-0) !important;
    border-radius: 50% !important; /* Circular toggle handle */
}

/* BetterDiscord buttons */
.bd-button {
    background: var(--bg-2) !important; /* Use subtle background instead of purple */
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important; /* Use theme border instead of purple */
    transition: background 0.2s ease, border-color 0.2s ease !important;
}

.bd-button:hover {
    background: var(--bg-1) !important; /* Lighter on hover */
    border-color: var(--palenight-purple) !important; /* Purple border on hover */
}

.bd-button:active,
.bd-button.bd-button-filled {
    background: var(--active) !important; /* Only active/filled buttons get purple background */
    border-color: var(--palenight-purple) !important;
}

.bd-button.bd-button-danger {
    background: var(--palenight-red) !important;
    border-color: var(--palenight-red) !important;
}


/* ============================================= */
/* USER AREA POPUP (Bottom Left)                */
/* ============================================= */

/* User profile popout/menu - FULL PALENIGHT THEME */
.accountProfilePopoutWrapper__8f0de,
[class*="accountProfilePopout"],
.userPopout__590e2,
.userPopoutOuter__390cb,
[class*="userPopout"],
.profilePanel_c0bea0 {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

/* User profile popout header/banner */
.banner_c0bea0,
.profileBanner__6e540,
[class*="profileBanner"],
.userProfileOuterThemed__81bfc,
.bannerSVGWrapper_a5e6c9 {
    background: var(--bg-2) !important;
}

/* User profile popout body */
.profileBadges__6e540,
.body_c0bea0,
.userInfoSection__03c37,
[class*="userInfo"],
.avatarWrapper_c0bea0,
.avatarPositionPanel_c0bea0 {
    background: var(--bg-3) !important;
}

/* User profile text - ensure visibility */
.userText__56e23,
.username__88cdb,
.discriminator__70a7b,
.profileBadges__6e540,
[class*="bodyTitle"],
[class*="textarea"],
.nameTag_c0bea0,
.panelTitleContainer_c0bea0,
.panelTitle_c0bea0,
.panelSubtextContainer_c0bea0,
.panelSubtext_c0bea0 {
    color: var(--text-1) !important;
}

/* User profile buttons - PROFESSIONAL LOOK */
.actionButtons_c0bea0,
.actionButton__23cc6,
[class*="actionButton"] button,
.profilePanelButton__92e31,
[class*="profilePanelButton"],
.button_dd4f85 {
    background: var(--bg-2) !important; /* Subtle dark background */
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important; /* Subtle border, not purple */
    border-radius: var(--radius-sm) !important;
    transition: all 0.2s ease !important;
    box-shadow: none !important; /* Remove default shadow */
}

.actionButton__23cc6:hover,
[class*="actionButton"] button:hover,
.profilePanelButton__92e31:hover,
[class*="profilePanelButton"]:hover,
.button_dd4f85:hover {
    background: var(--bg-1) !important; /* Lighter on hover */
    border-color: var(--palenight-purple) !important; /* Purple border on hover */
    box-shadow: 0 0 8px var(--active-2) !important; /* Subtle glow on hover */
    color: var(--text-0) !important;
}

/* Active/pressed state */
.actionButton__23cc6:active,
[class*="actionButton"] button:active,
.profilePanelButton__92e31:active,
[class*="profilePanelButton"]:active,
.button_dd4f85:active {
    background: var(--active) !important;
    border-color: var(--palenight-purple) !important;
    transform: scale(0.98);
}

/* User profile sections/dividers */
.userProfileOuter_c0bea0,
.section__8f0de,
[class*="section"],
.customStatus_c0bea0,
.note_c0bea0,
.textarea_c0bea0 {
    background: var(--bg-3) !important;
    border-color: var(--border) !important;
    color: var(--text-3) !important;
}

/* User profile input fields */
.note_c0bea0 textarea,
.textarea_c0bea0,
.input_c0bea0 {
    background: var(--bg-2) !important;
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important;
}

.note_c0bea0 textarea:focus,
.textarea_c0bea0:focus,
.input_c0bea0:focus {
    border-color: var(--palenight-purple) !important;
    box-shadow: 0 0 0 2px var(--active-2) !important;
}

/* About Me and custom status text */
.customStatusText_c0bea0,
.markup_f8f345,
.bio_c0bea0,
.text_c0bea0 {
    color: var(--text-3) !important;
}

/* Member since, roles, etc. */
.profileBadges__6e540,
.role_c0bea0,
.roleDot_c0bea0,
.memberSinceContainer_c0bea0,
.listRowContent_a6b9c3 {
    color: var(--text-3) !important;
}

/* Role pills */
.role_c0bea0 {
    background: var(--bg-2) !important;
    border: 1px solid var(--border) !important;
}


/* Mention and @everyone tag styling for better readability - ONLY in messages */
.message__5126c .mention /* mention in message */,
.message__5126c a.mention /* mention link in message */,
.markup__b2d56 .mention /* markup mention */,
.markup__b2d56 a.mention {
    background-color: var(--palenight-purple) !important;
    color: var(--text-0) !important;
    padding: 2px 4px !important;
    border-radius: 3px !important;
    font-weight: 600 !important;
}

/* ============================================= */
/* STATUS INDICATORS - Palenight Colors         */
/* ============================================= */

/* Hide default Discord SVG status circles */
.svg_cc5dd2 > mask,
.svg__44b0c > rect,
.svg__44b0c > circle,
.svg__44b0c > g,
.svg__44b0c rect[mask*='url'],
.avatar__20a53 .status_a423bd rect {
    display: none;
}

/* Remove mask from foreignObject elements */
.mask__68edb > foreignObject,
.svg__44b0c > foreignObject,
.svg__2338f > foreignObject {
    mask: none;
}

/* Custom status indicator setup with Palenight colors */
.wrapper__44b0c,
.container__1ce5d {
    --online-custom: var(--online); /* #9CCC65 Palenight green */
    --dnd-custom: var(--dnd); /* #EF5350 Palenight red */
    --idle-custom: var(--idle); /* #FFCA28 Palenight yellow */
    --offline-custom: var(--offline); /* #676E95 Palenight muted */
    --streaming-custom: var(--streaming); /* #C792EA Palenight purple */
}

/* Create custom status indicators */
.wrapper__44b0c:has(rect)::after,
.container__1ce5d:has(.status_a423bd)::after {
    content: '';
    display: block;
    position: absolute;
    height: 10px;
    width: 10px;
    bottom: -2px;
    right: -2px;
    border: 2px solid var(--bg-3);
    border-radius: 50%;
    box-sizing: border-box;
}

/* Apply Palenight colors to each status */
.wrapper__44b0c:has(rect[fill='#43a25a'])::after,
.container__1ce5d:has(.status_a423bd[style*='rgb(67, 162, 90)'])::after {
    background: var(--online-custom) !important;
}

.wrapper__44b0c:has(rect[fill='#d83a42'])::after,
.container__1ce5d:has(.status_a423bd[style*='rgb(216, 58, 66)'])::after {
    background: var(--dnd-custom) !important;
}

.wrapper__44b0c:has(rect[fill='#ca9654'])::after,
.container__1ce5d:has(.status_a423bd[style*='rgb(202, 150, 84)'])::after {
    background: var(--idle-custom) !important;
}

.wrapper__44b0c:has(rect[fill='#82838b'])::after,
.wrapper__44b0c:has(rect[fill='#747f8d'])::after,
.container__1ce5d:has(.status_a423bd[style*='rgb(130, 131, 139)'])::after,
.container__1ce5d:has(.status_a423bd[style*='rgb(116, 127, 141)'])::after {
    background: var(--offline-custom) !important;
}

.wrapper__44b0c:has(rect[fill='#9147ff'])::after,
.container__1ce5d:has(.status_a423bd[style*='rgb(145, 71, 255)'])::after {
    background: var(--streaming-custom) !important;
}

/* Status badges positioning */
.lowerBadge_cc5dd2 {
    border: 2px solid var(--bg-3) !important;
    border-radius: 50% !important; /* Make badges circular */
    bottom: -2px;
    right: -2px;
    box-shadow: none !important; /* Remove any shadow that might cause black border */
}

.upperBadge_cc5dd2 {
    border: 2px solid var(--bg-3) !important;
    border-radius: 50% !important; /* Make badges circular */
    top: -2px;
    right: -2px;
    box-shadow: none !important; /* Remove any shadow that might cause black border */
}

/* ============================================= */
/* FRIENDS LIST FIX - Remove Dark Backgrounds   */
/* ============================================= */

/* Remove dark background around users in friends list */
.peopleColumn__133bf /* friends list column */,
.peopleList__13e06 /* friends list container */ {
    background: transparent !important;
}

/* Friends list items - blend with background */
.peopleListItem_c6d4b9,
[class*="peopleListItem"] {
    background: transparent !important;
    border: none !important;
}

/* Friends list item hover - subtle highlight */
.peopleListItem_c6d4b9:hover,
[class*="peopleListItem"]:hover {
    background: var(--hover) !important;
}

/* Friends list user info area - ensure dark background */
.userInfo_c6d4b9,
[class*="userInfo"],
[class*="peopleListItem"] [class*="listItemContents"],
.listItemContents_c6d4b9 {
    background: transparent !important;
}

/* Friends list sub-containers - force dark background */
[class*="peopleListItem"] > div,
.peopleListItem_c6d4b9 > div {
    background: transparent !important;
}

/* Friends list actions area */
.actions_c6d4b9,
[class*="listItemActions"] {
    background: transparent !important;
}

/* Pending requests and suggestions - also remove dark background */
.listRow_a6b9c3,
[class*="listRow"] {
    background: transparent !important;
}

.listRow_a6b9c3:hover,
[class*="listRow"]:hover {
    background: var(--hover) !important;
}

/* Friends tab body */
.tabBody__133bf {
    background: transparent !important;
}

/* Friends search bar */
.searchBar__3c9f8,
[class*="searchBar"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
}

/* ============================================= */
/* FRIENDS/NITRO NAVIGATION TABS FIX           */
/* ============================================= */

/* Navigation tab buttons (Friends, Nitro, Shop, etc.) - FIX PURPLE HIGHLIGHT BUG */
.topPill__3a1d0,
[class*="topPill"],
.item__59774,
[class*="item"][class*="_59774"],
[class*="item"][class*="themed"] {
    color: var(--text-3) !important;
    background: transparent !important;
    border-radius: var(--radius-sm) !important;
    transition: background 0.15s ease, color 0.15s ease !important;
}

/* Navigation tab buttons hover */
.topPill__3a1d0:hover,
[class*="topPill"]:hover,
.item__59774:hover,
[class*="item"][class*="_59774"]:hover,
[class*="item"][class*="themed"]:hover {
    color: var(--text-1) !important;
    background: var(--hover) !important;
}

/* Navigation tab buttons selected - CRITICAL: Ensure only ONE tab shows as selected */
.topPill__3a1d0.selected__3a1d0,
[class*="topPill"][class*="selected"],
.item__59774.selected__59774,
[class*="item"][class*="_59774"][class*="selected"],
[class*="item"][class*="themed"][class*="selected"],
.themed_c7dc0c.selected_c7dc0c,
[class*="themed"][class*="selected"] {
    color: var(--text-0) !important;
    background: var(--active) !important; /* Palenight purple background */
}

/* Navigation tab buttons active (click state) - prevent double purple */
.topPill__3a1d0:active,
[class*="topPill"]:active,
.item__59774:active,
[class*="item"][class*="_59774"]:active,
[class*="item"][class*="themed"]:active {
    color: var(--text-0) !important;
    background: var(--accent-5) !important; /* Slightly darker purple on click */
    transition: none !important; /* Instant feedback */
}

/* Ensure selected tab ONLY has purple when it's the current page */
.topPill__3a1d0:not(.selected__3a1d0),
[class*="topPill"]:not([class*="selected"]),
.item__59774:not(.selected__59774),
[class*="item"][class*="_59774"]:not([class*="selected"]),
[class*="item"][class*="themed"]:not([class*="selected"]) {
    background: transparent !important;
    color: var(--text-3) !important;
}

/* Fix navigation tab bar container */
.top__9293f,
[class*="top"][class*="__9293f"],
[class*="topSection"] {
    background: transparent !important;
}

/* Fix tab bar background */
.tabBar_c7dc0c,
[class*="tabBar"] {
    background: transparent !important;
}

/* Navigation divider */
.divider__3f7c5,
[class*="divider"][class*="__3f7c5"] {
    background: var(--border) !important;
}

/* ===== NITRO PAGE SPECIFIC FIXES ===== */

/* Nitro page navigation items (Home, What's New, etc.) */
.homeWrapper__0920e .item__59774,
.homeWrapper__0920e [class*="item"][class*="_59774"],
.homeWrapper__0920e .topPill__3a1d0,
.homeWrapper__0920e [class*="topPill"] {
    background: transparent !important;
    color: var(--text-3) !important;
}

.homeWrapper__0920e .item__59774:hover,
.homeWrapper__0920e [class*="item"][class*="_59774"]:hover,
.homeWrapper__0920e .topPill__3a1d0:hover,
.homeWrapper__0920e [class*="topPill"]:hover {
    background: var(--hover) !important;
    color: var(--text-1) !important;
}

.homeWrapper__0920e .item__59774.selected__59774,
.homeWrapper__0920e [class*="item"][class*="_59774"][class*="selected"],
.homeWrapper__0920e .topPill__3a1d0.selected__3a1d0,
.homeWrapper__0920e [class*="topPill"][class*="selected"] {
    background: var(--active) !important;
    color: var(--text-0) !important;
}

/* Nitro page content areas */
.pageWrapper_c880e8,
[class*="pageWrapper"] {
    background: transparent !important;
}

/* Nitro cards and sections */
.homeWrapper__0920e .card_c880e8,
.homeWrapper__0920e [class*="card"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
}

/* ===== READALLNOTIFICATIONS PLUGIN COMPATIBILITY ===== */

/* Fix ReadAllNotifications button styling */
#readAllNotificationsButton,
[class*="readallnotificationsbutton"],
.bd-button[onclick*="readAll"],
button[aria-label*="Read All"] {
    background: var(--bg-2) !important;
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-sm) !important;
    padding: 6px 12px !important;
    font-size: 13px !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    max-width: 150px !important;
    height: auto !important;
    min-height: 32px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    transition: all 0.2s ease !important;
}

#readAllNotificationsButton:hover,
[class*="readallnotificationsbutton"]:hover,
.bd-button[onclick*="readAll"]:hover {
    background: var(--bg-1) !important;
    border-color: var(--palenight-purple) !important;
    color: var(--text-0) !important;
    box-shadow: 0 0 8px var(--active-2) !important;
}

/* ReadAll button text fix */
#readAllNotificationsButton span,
[class*="readallnotificationsbutton"] span {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: 100% !important;
}

/* ============================================= */
/* COMPREHENSIVE DISCORD UI COVERAGE           */
/* ============================================= */

/* ===== MODALS & POPUPS ===== */
.modal__6cf44,
.root__84a48,
[class*="modal"],
[class*="Modal"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-lg) !important;
}

.header__6e864,
.headerNormal__7c60b,
[class*="modalHeader"],
[class*="ModalHeader"] {
    background: var(--bg-2) !important;
    color: var(--text-1) !important;
    border-bottom: 1px solid var(--border) !important;
}

.content__9e29e,
.modalContent__08434,
[class*="modalContent"],
[class*="ModalContent"] {
    background: var(--bg-3) !important;
    color: var(--text-3) !important;
}

.footer__7cb1c,
.modalFooter__08434,
[class*="modalFooter"],
[class*="ModalFooter"] {
    background: var(--bg-2) !important;
    border-top: 1px solid var(--border) !important;
}

/* ===== CONTEXT MENUS ===== */
.menu__60522,
.scroller__88fe2,
[class*="menu"],
[class*="Menu"],
[class*="contextMenu"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

.item__8e93a,
.colorDefault__0c080,
[class*="menuItem"],
[class*="MenuItem"] {
    color: var(--text-3) !important;
    background: transparent !important;
    border-radius: var(--radius-sm) !important;
}

.item__8e93a:hover,
.colorDefault__0c080:hover,
[class*="menuItem"]:hover,
[class*="MenuItem"]:hover {
    color: var(--text-1) !important;
    background: var(--hover) !important;
}

.colorDanger_ed0d3f:hover {
    background: var(--palenight-red) !important;
    color: var(--text-0) !important;
}

/* ===== EMOJI PICKER ===== */
.emojiPicker__3d5a9,
.container__6b6e7,
[class*="emojiPicker"],
[class*="EmojiPicker"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-lg) !important;
}

.header_a6aec0,
.searchBar__088a5,
[class*="emojiPickerHeader"],
[class*="emojiPickerSearch"] {
    background: var(--bg-2) !important;
    border-bottom: 1px solid var(--border) !important;
}

.emojiItem__86dce,
[class*="emojiItem"] {
    border-radius: var(--radius-sm) !important;
}

.emojiItem__86dce:hover,
[class*="emojiItem"]:hover {
    background: var(--hover) !important;
}

.emojiItemSelected__86dce,
[class*="emojiItemSelected"] {
    background: var(--active-2) !important;
}

.categorySection__9ee40,
[class*="categorySection"] {
    color: var(--text-4) !important;
}

/* ===== VOICE/VIDEO CONTROLS ===== */
.container_c38106,
.panels__5e434,
[class*="voiceControls"],
[class*="VoiceControls"] {
    background: var(--bg-3) !important;
}

.button__23e46,
.actionButton_c38106,
[class*="voiceButton"],
[class*="VoiceButton"] {
    color: var(--text-3) !important;
    background: transparent !important;
    border-radius: var(--radius-sm) !important;
    transition: all 0.2s ease !important; /* Smooth transition for hover effects */
}

.button__23e46:hover,
.actionButton_c38106:hover,
[class*="voiceButton"]:hover,
[class*="VoiceButton"]:hover {
    color: var(--text-0) !important; /* Brighter text on hover */
    background: var(--hover) !important; /* Subtle background highlight */
    box-shadow: 0 0 8px var(--active-2) !important; /* Glow effect like settings */
}

/* Voice/Video - Active/Muted states with enhanced hover */
.speaking_c38106,
[class*="speaking"] {
    box-shadow: inset 0 0 0 2px var(--palenight-green) !important;
}

.fauxDisabled__23e46,
[class*="fauxDisabled"] {
    color: var(--palenight-red) !important;
}

/* Mute/Deafen buttons - light up on hover like settings */
.fauxDisabled__23e46:hover,
[class*="fauxDisabled"]:hover {
    color: var(--palenight-red-light) !important;
    background: rgba(239, 83, 80, 0.1) !important; /* Red glow */
    box-shadow: 0 0 8px rgba(239, 83, 80, 0.3) !important;
}

/* Voice control dropdown buttons */
.popoutOpen_c38106,
[class*="popoutOpen"] {
    background: var(--active-2) !important;
}

/* Voice control dropdown menus */
.menu_c38106,
[class*="voiceControlMenu"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

/* Voice control dropdown menu items */
.menu_c38106 .item__8e93a,
[class*="voiceControlMenu"] [class*="menuItem"] {
    color: var(--text-3) !important;
    background: transparent !important;
    transition: all 0.2s ease !important;
}

.menu_c38106 .item__8e93a:hover,
[class*="voiceControlMenu"] [class*="menuItem"]:hover {
    color: var(--text-1) !important;
    background: var(--hover) !important;
    box-shadow: 0 0 4px var(--active-2) !important; /* Subtle glow on menu item hover */
}

/* ===== REACTIONS ===== */
.reaction__23977,
.reactionBtn__23977,
[class*="reaction"],
[class*="Reaction"] {
    background: var(--bg-2) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-sm) !important;
    color: var(--text-3) !important;
}

.reaction__23977:hover,
.reactionBtn__23977:hover,
[class*="reaction"]:hover,
[class*="Reaction"]:hover {
    background: var(--hover) !important;
    border-color: var(--palenight-purple) !important;
}

.reactionMe__23977,
[class*="reactionMe"] {
    background: var(--active-2) !important;
    border-color: var(--palenight-purple) !important;
}

/* ===== NOTIFICATIONS & BADGES ===== */
.numberBadge__6a679,
.mentionsBadge__6a679,
[class*="numberBadge"],
[class*="mentionsBadge"] {
    background: var(--palenight-red) !important;
    color: var(--text-0) !important;
}

.unread__6a679,
[class*="unreadBadge"] {
    background: var(--text-4) !important;
}

/* ===== TOOLTIPS ===== */
.tooltip__99ffc,
[class*="tooltip"],
[class*="Tooltip"] {
    background: var(--bg-2) !important;
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-sm) !important;
}

/* ===== AUTOCOMPLETE (Mentions, Emojis, Commands) ===== */
.autocomplete_cd9e36,
.autocompleteRowVertical_cd9e36,
[class*="autocomplete"],
[class*="Autocomplete"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

.autocompleteRowVertical_cd9e36,
[class*="autocompleteRow"] {
    background: transparent !important;
}

.autocompleteRowVertical_cd9e36:hover,
[class*="autocompleteRow"]:hover {
    background: var(--hover) !important;
}

.selectorSelected_cd9e36,
[class*="selectorSelected"] {
    background: var(--active-2) !important;
}

/* ===== SEARCH RESULTS ===== */
.searchResult__8632f,
.searchResultGroup__8632f,
[class*="searchResult"],
[class*="SearchResult"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

.searchResult__8632f:hover,
[class*="searchResult"]:hover {
    background: var(--bg-2) !important;
}

.searchResultsWrap_a9e706 {
    background: var(--background-base-lower) !important;
}

/* ===== THREADS & FORUMS ===== */
.container_f369db,
.card_f369db,
[class*="forumPost"],
[class*="threadCard"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

.card_f369db:hover,
[class*="forumPost"]:hover,
[class*="threadCard"]:hover {
    background: var(--bg-2) !important;
    border-color: var(--palenight-purple) !important;
}

/* ===== SLIDERS & SWITCHES ===== */
.slider__5e12d,
[class*="slider"] {
    background: var(--bg-2) !important;
}

.sliderBar__89e8e,
[class*="sliderBar"] {
    background: var(--palenight-purple) !important;
}

/* Switches */
input[type="checkbox"] + div,
.checkbox__3cb18,
[class*="checkbox"],
[class*="switch"] {
    background: var(--bg-2) !important;
    border: 1px solid var(--border) !important;
}

input[type="checkbox"]:checked + div,
.checkbox__3cb18.checked__3cb18,
[class*="checkbox"][class*="checked"],
[class*="switch"][class*="checked"] {
    background: var(--palenight-purple) !important;
    border-color: var(--palenight-purple) !important;
}

/* ===== DROPDOWNS & SELECT MENUS ===== */
.select__12ed3,
.selectControl__8d267,
[class*="select"],
[class*="Select"] {
    background: var(--bg-2) !important;
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-sm) !important;
}

.selectOption__8d267,
[class*="selectOption"] {
    background: var(--bg-3) !important;
    color: var(--text-3) !important;
}

.selectOption__8d267:hover,
[class*="selectOption"]:hover {
    background: var(--hover) !important;
    color: var(--text-1) !important;
}

/* ===== SCROLLBARS ===== */
::-webkit-scrollbar {
    width: 12px;
    height: 12px;
}

::-webkit-scrollbar-track {
    background: var(--bg-4) !important;
}

::-webkit-scrollbar-thumb {
    background: var(--bg-1) !important;
    border-radius: var(--radius-sm) !important;
    border: 2px solid var(--bg-4) !important;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--bg-2) !important;
}

/* ===== NOTICE BANNERS ===== */
.notice__6e2b9,
[class*="notice"],
[class*="Notice"] {
    background: var(--bg-2) !important;
    color: var(--text-1) !important;
    border: 1px solid var(--border) !important;
}

.noticeInfo,
[class*="noticeInfo"] {
    background: var(--palenight-blue) !important;
}

.noticeWarning,
[class*="noticeWarning"] {
    background: var(--palenight-yellow) !important;
}

.noticeError,
[class*="noticeError"] {
    background: var(--palenight-red) !important;
}

/* ===== VIDEO/SCREEN SHARE ===== */
.tile_cb9592,
.video_cb9592,
[class*="videoTile"],
[class*="Video"] {
    background: var(--bg-4) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

.pictureInPictureVideo_cb9592,
[class*="pictureInPicture"] {
    border: 2px solid var(--palenight-purple) !important;
}

/* ===== STAGE CHANNELS ===== */
.container__722ff,
[class*="stageContainer"] {
    background: var(--bg-3) !important;
}

.audienceContainer__722ff,
[class*="audienceContainer"] {
    background: var(--bg-4) !important;
}

/* ===== INVITE/LINK CARDS ===== */
.wrapper__9293f,
.invite__9293f,
[class*="inviteCard"],
[class*="guildCard"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

.wrapper__9293f:hover,
.invite__9293f:hover,
[class*="inviteCard"]:hover {
    background: var(--bg-2) !important;
    border-color: var(--palenight-purple) !important;
}

/* ===== CODE BLOCKS ===== */
.hljs,
code,
pre {
    background: var(--bg-2) !important;
    color: var(--text-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

/* Code syntax highlighting - Palenight colors */
.hljs-keyword,
.hljs-selector-tag {
    color: var(--palenight-purple) !important;
}

.hljs-string,
.hljs-attr {
    color: var(--palenight-green) !important;
}

.hljs-number,
.hljs-literal {
    color: var(--palenight-orange) !important;
}

.hljs-function,
.hljs-title {
    color: var(--palenight-yellow) !important;
}

.hljs-comment {
    color: var(--text-5) !important;
    font-style: italic;
}

.hljs-variable,
.hljs-name {
    color: var(--palenight-blue) !important;
}

/* ===== ACTIVITY CARDS (Spotify, Games, etc.) ===== */
.activityPanel__45e1c,
.activity__46207,
[class*="activityCard"],
[class*="Activity"] {
    background: var(--bg-3) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

.activityName__5d60b,
[class*="activityName"] {
    color: var(--text-1) !important;
}

.activityDetails__5d60b,
[class*="activityDetails"] {
    color: var(--text-3) !important;
}

/* Spotify specific */
.playingIcon__46207,
[class*="spotifyIcon"] {
    color: var(--palenight-green) !important;
}

/* ===== DATE DIVIDERS ===== */
.divider__908e2,
[class*="dateDivider"] {
    color: var(--text-4) !important;
}

.content__908e2 {
    background: var(--bg-4) !important;
    color: var(--text-4) !important;
}

/* ===== BLOCKED MESSAGES ===== */
.groupStart__908e2,
[class*="blockedMessage"] {
    background: var(--bg-2) !important;
    border: 1px solid var(--border) !important;
    border-radius: var(--radius-md) !important;
}

/* ===== SYSTEM MESSAGES ===== */
.systemMessage__5126c,
[class*="systemMessage"] {
    background: transparent !important;
    color: var(--text-4) !important;
}

.timestamp__5126c {
    color: var(--text-5) !important;
}

/* ===== LOADING INDICATORS ===== */
.spinner__76e51,
[class*="spinner"],
[class*="Spinner"] {
    color: var(--palenight-purple) !important;
}

/* ============================================= */
/* FRIENDS/NITRO NAVIGATION TABS FIX           */
/* ============================================= */

/* Navigation tab buttons (Friends, Nitro, Shop, etc.) - FIX PURPLE HIGHLIGHT BUG */
.topPill__3a1d0,
[class*="topPill"],
.item__59774,
[class*="item"][class*="_59774"],
[class*="item"][class*="themed"] {
    color: var(--text-3) !important;
    background: transparent !important;
    border-radius: var(--radius-sm) !important;
    transition: background 0.15s ease, color 0.15s ease !important;
}

/* Navigation tab buttons hover */
.topPill__3a1d0:hover,
[class*="topPill"]:hover,
.item__59774:hover,
[class*="item"][class*="_59774"]:hover,
[class*="item"][class*="themed"]:hover {
    color: var(--text-1) !important;
    background: var(--hover) !important;
}

/* Navigation tab buttons selected - CRITICAL: Ensure only ONE tab shows as selected */
.topPill__3a1d0.selected__3a1d0,
[class*="topPill"][class*="selected"],
.item__59774.selected__59774,
[class*="item"][class*="_59774"][class*="selected"],
[class*="item"][class*="themed"][class*="selected"],
.themed_c7dc0c.selected_c7dc0c,
[class*="themed"][class*="selected"] {
    color: var(--text-0) !important;
    background: var(--active) !important; /* Palenight purple background */
}

/* Navigation tab buttons active (click state) - prevent double purple */
.topPill__3a1d0:active,
[class*="topPill"]:active,
.item__59774:active,
[class*="item"][class*="_59774"]:active,
[class*="item"][class*="themed"]:active {
    color: var(--text-0) !important;
    background: var(--accent-5) !important; /* Slightly darker purple on click */
    transition: none !important; /* Instant feedback */
}

/* Ensure selected tab ONLY has purple when it's the current page */
.topPill__3a1d0:not(.selected__3a1d0),
[class*="topPill"]:not([class*="selected"]),
.item__59774:not(.selected__59774),
[class*="item"][class*="_59774"]:not([class*="selected"]),
[class*="item"][class*="themed"]:not([class*="selected"]) {
    background: transparent !important;
    color: var(--text-3) !important;
}

/* Fix navigation tab bar container */
.top__9293f,
[class*="top"][class*="__9293f"],
[class*="topSection"] {
    background: transparent !important;
}

/* Fix tab bar background */
.tabBar_c7dc0c,
[class*="tabBar"] {
    background: transparent !important;
}

/* Navigation divider */
.divider__3f7c5,
[class*="divider"][class*="__3f7c5"] {
    background: var(--border) !important;
}
body {
    --top-bar-height: 32px;
    --custom-app-top-bar-height: var(--top-bar-height);
}

@property --top-bar-button-position {
    syntax: 'off | hide | serverlist | titlebar';
    inherits: false;
    initial-value: titlebar;
}

.platform-osx.visual-refresh .wrapper_ef3116 {
    margin-top: max(0px, calc(36px - var(--top-bar-height)));
}

@container body style(--top-bar-button-position: hide) {
    .visual-refresh {
        .trailing_c38106 > a[href="https://support.discord.com"],
        .recentsIcon_c99c29,
        .winButtons_c38106::before {
            display: none;
        }
    }
}

@container body style(--top-bar-button-position: serverlist) {
    .visual-refresh {
        /* remove help button */
        .trailing_c38106 > a[href="https://support.discord.com"],
        .winButtons_c38106::before {
            display: none;
        }

        /* make server list inner scroll */
        .stack_dbd263:not([id='guild-list-unread-dms']) {
            overflow: hidden scroll;
            scrollbar-width: none;
        }
        /* create space for inbox button */
        .tutorialContainer__1f388 {
            margin-bottom: 48px;
        }
        /* move inbox button */
        .recentsIcon_c99c29 {
            position: fixed;
            width: 40px;
            height: 40px;
            top: calc(var(--custom-app-top-bar-height) + 1px + var(--custom-guild-list-padding) + 48px);
            left: calc(var(--gap) + 1px + var(--custom-guild-list-padding));
        }
        /* style inbox button */
        .recentsIcon_c99c29 .button__85643 {
            width: 100%;
            height: 100%;
            background-color: var(--background-surface-higher);
            border-radius: var(--radius-md);
            transition: background-color 0.15s ease-out;

            &:hover {
                background-color: var(--bg-brand);

                .icon__9293f {
                    color: var(--white);
                }
            }
        }
        .recentsIcon_c99c29 .svg__2338f {
            transition: color 0.15s ease-out;
            width: 24px;
            height: 24px;
        }
        /* shift inbox popup panel into view */
        .recentMentionsPopout__95796 {
            transform: translateX(100%);
        }
        /* fix settings animation transform */
        .layer__960e4.baseLayer__960e4 {
            transform: none !important;
        }
        .layers__960e4 > .layer__960e4.animating__960e4 {
            will-change: opacity;
        }

        /* unread icon */
        .recentsIcon_c99c29 .iconBadge__9293f {
            --custom-icon-offset: 8px;
            width: 10px;
            height: 10px;
            transition: background 0.15s ease-out;
        }

        .recentsIcon_c99c29:hover .iconBadge__9293f {
            background: var(--white);
        }
    }
}

@container body style(--top-bar-button-position: titlebar) {
    #app-mount {
        --custom-channel-header-height: calc(var(--guildbar-avatar-size) + var(--space-xs) + var(--border-thickness) * 2);
        --top-bar-right-margin: calc(32px + var(--space-xs));
    }

    .visual-refresh {
        .title_c38106, 
        .trailing_c38106 > a[href="https://support.discord.com"]
        {
            display: none;
        }
        .trailing_c38106 {
            position: absolute;
            top: calc(var(--top-bar-height) + 8px + var(--border-thickness));
            right: calc(var(--gap) + var(--border-thickness));
            gap: var(--space-xs);
            z-index: 1000;
            padding-right: var(--space-xs);
        }
        .systemBar_c38106 .trailing_c38106 {
            top: var(--space-xs);
        }
        .winButtons_c38106 {
            padding: 0;
        }
        .winButton_c38106 {
            height: calc(var(--window-control-size) * 2);
        }
        .winButtons_c38106::before {
            height: 16px;
            width: var(--space-xs);
            box-sizing: border-box;
            margin: 0;
        }
        .toolbar__9293f {
            padding-right: var(--top-bar-right-margin);
        }
        .headerBar__8a7fc {
            padding-right: calc(var(--top-bar-right-margin) + var(--space-sm));
        }
        .searchFloating__1ac1c {
            right: calc(var(--top-bar-right-margin) + var(--space-sm));
        }
        .balanceWidgetMenu__80679 {
            margin-right: var(--top-bar-right-margin);
        }
        .inviteToolbar__133bf {
            padding-right: 0;
        }
        .chat_f75fb0 > .layerContainer__59d0d {
            z-index: 999;
        }
        .subtitleContainer_f75fb0 {
            height: var(--custom-channel-header-height);
        }
        .title_f75fb0.container__9293f {
            height: auto;
            min-height: 0;
        }
    }
    .base__5e434:has(.notice__6e2b9) > .bar_c38106 > .trailing_c38106 {
        top: calc(var(--top-bar-height) + 8px + 40px + var(--gap) + var(--border-thickness));
    }
    .base__5e434:has(.winButtons_c38106) {
        --top-bar-right-margin: calc(32px + 3 * var(--space-xs) + 6 * var(--window-control-size));
    }
    .base__5e434:has(.trailing_c38106 > .button__85643) {
        --top-bar-right-margin: calc(32px * 2 + 2 * var(--space-xs));
    }
    .base__5e434:has(.winButtons_c38106):has(.trailing_c38106 > .button__85643) {
        --top-bar-right-margin: calc(32px * 2 + 4 * var(--space-xs) + 6 * var(--window-control-size));
    }
}

@property --top-bar-title-position {
    syntax: 'off | hide | left';
    inherits: false;
    initial-value: off;
}

@container body style(--top-bar-title-position: hide) {
    .visual-refresh {
        .title__85643 {
            display: none;
        }
    }
}

@container body style(--top-bar-title-position: left) {
    .visual-refresh {
        .title_c38106 {
            padding-left: var(--gap);
            justify-content: flex-start;
        }
        .title__85643 {
            gap: 4px;
        }
    }
}

@property --subtle-top-bar-title {
    syntax: 'off | on';
    inherits: false;
    initial-value: off;
}

@container body style(--subtle-top-bar-title: on) {
    .visual-refresh {
        .title__85643 .icon_f34534,
        .title__85643 > svg {
            display: none;
        }
        .title__85643 .text-sm\/medium_cf4812 {
            line-height: 90%;
            font-weight: 700;
            color: var(--text-muted);
        }
    }
}
@property --panel-blur {
    syntax: 'off | on';
    inherits: false;
    initial-value: off;
}

@container body style(--panel-blur: on) {
    .visual-refresh {
        #app-mount {
            --panel-backdrop-filter: blur(var(--blur-amount));
        }

        .popoverReactionHoverBar_f84418 /* message hover quick action bar */,
        .tooltip_c36707 /* tooltips */ {
            background: var(--bg-floating);
        }
        .menu_c1e9c4 /* context menus */,
        .contentWrapper__08434 /* emoji/gif panel */,
        .root__49fc1 /* modals like invite */,
        .outer_c0bea0.user-profile-popout:not(.custom-theme-background) /* small profile popup */,
        .autocomplete__6b0e0 /* autocomplete */,
        .container__55c99 /* search suggestions */,
        .messagesPopoutWrap_e8b59c /* inbox */,
        .popout__76f04 /* channel hover popout */,
        .bar__7aaec /* channel list new unreads bar */ {
            background: var(--bg-floating);
        }
    }
}

@property --transparency-tweaks {
    syntax: 'off | on';
    inherits: false;
    initial-value: off;
}

@container body style(--transparency-tweaks: on) {
    .visual-refresh {
        .formWithLoadedChatInput_f75fb0:before,
        .children__9293f:after {
            display: none;
        }
    }
}

@property --remove-bg-layer {
    syntax: 'off | on';
    inherits: false;
    initial-value: off;
}

@container body style(--remove-bg-layer: on) {
    .bg__960e4 {
        background: transparent !important;
    }
}
@property --small-user-panel {
    syntax: 'off | on';
    inherits: false;
    initial-value: off;
}

@container body style(--small-user-panel: on) {
    .visual-refresh {
        .panels__5e434 /* user panel */ {
            right: 0;
            left: unset;
            width: calc(var(--custom-guild-sidebar-width) - var(--custom-guild-list-width));
        }
        .guilds__5e434 /* server list */ {
            margin-bottom: 0;
        }
    }
}
body {
    --window-control-size: 14px;
}

@property --custom-window-controls {
    syntax: 'off | on';
    inherits: false;
    initial-value: on;
}

@container body style(--custom-window-controls: on) {
    .winButtons_c38106 {
        gap: 0;
        padding-right: calc(var(--gap) - (var(--window-control-size) / 2) + 1px);
    }
    .winButtons_c38106::before {
        margin-right: calc(var(--custom-app-top-bar-height) / 4);
    }
    .winButton_c38106 > svg {
        display: none;
    }
    .winButton_c38106 {
        background: none !important;
        width: calc(var(--window-control-size) * 2);
        height: var(--custom-app-top-bar-height);
    }
    .winButton_c38106::after {
        display: block;
        content: '';
        height: var(--window-control-size);
        width: var(--window-control-size);
        border-radius: 50%;
    }
    .winButton_c38106:hover::after {
        filter: brightness(0.7);
    }
    .winButton_c38106:active::after {
        transform: scale(0.9);
    }
    .winButtonClose_c38106::after {
        background-color: var(--dnd) !important;
    }
    .winButtonMinMax_c38106:nth-child(1)::after {
        background-color: var(--idle) !important;
    }
    .winButtonMinMax_c38106:nth-child(2)::after {
        background-color: var(--online) !important;
    }
}

@container body style(--custom-window-controls: off) and style(--top-bar-button-position: titlebar) {
    .visual-refresh {
        .winButton_c38106 {
            width: calc(var(--window-control-size) * 2);
            height: calc(var(--window-control-size) * 2);
        }
        .winButtons_c38106 {
            gap: 0;
        }
    }
}
